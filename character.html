<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BlightsEnd Character</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" href="style.css" />
  <script src="script.js" defer></script>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#1a1a1a">

  <link rel="icon" type="image/png" sizes="192x192" href="Icons/icon-192.png">
  <link rel="apple-touch-icon" sizes="192x192" href="Icons/icon-192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="Icons/icon-512.png">
</head>

<body data-page="character">
  <div id="app">
    <header class="cs-header">
      <button class="cs-menu-btn" id="csMenuBtn" type="button">☰ Menu</button>
      <img class="cs-logo" src="assets/BlightsEnd-Logo.png" alt="BlightsEnd Logo">
    </header>

    <main class="cs-main">
      <section class="cs-row cs-name-row">
        <label class="cs-label" for="csName">Name</label>
        <input class="cs-name" id="csName" type="text" placeholder="Name">
        <label class="cs-label cs-hp-label" for="csHP">HP</label>
        <input class="cs-num cs-hp" id="csHP" type="number" inputmode="numeric" step="1" min="0">
      </section>

      <section class="cs-row cs-small-stats">
        <div class="cs-mini">
          <label class="cs-label" for="csStamina">Stamina</label>
          <input class="cs-num" id="csStamina" type="number" inputmode="numeric" step="1" min="0">
        </div>
        <div class="cs-mini">
          <label class="cs-label" for="csEphem">Ephem</label>
          <input class="cs-num" id="csEphem" type="number" inputmode="numeric" step="1" min="0">
        </div>
        <div class="cs-mini">
          <label class="cs-label" for="csWalk">Walk</label>
          <input class="cs-num" id="csWalk" type="number" inputmode="numeric" step="1" min="0">
        </div>
        <div class="cs-mini">
          <label class="cs-label" for="csRun">Run</label>
          <input class="cs-num" id="csRun" type="number" inputmode="numeric" step="1" min="0">
        </div>
      </section>

      <section class="cs-core">
        <div class="cs-core-grid">
          <div class="cs-core-item">
            <input class="cs-num cs-core-num" id="csFight" type="number" inputmode="numeric" step="1" min="0">
            <div class="cs-core-label">Fight</div>
          </div>
          <div class="cs-core-item">
            <input class="cs-num cs-core-num" id="csVolley" type="number" inputmode="numeric" step="1" min="0">
            <div class="cs-core-label">Volley</div>
          </div>
          <div class="cs-core-item">
            <input class="cs-num cs-core-num" id="csGuts" type="number" inputmode="numeric" step="1" min="0">
            <div class="cs-core-label">Guts</div>
          </div>
          <div class="cs-core-item">
            <input class="cs-num cs-core-num" id="csGrit" type="number" inputmode="numeric" step="1" min="0">
            <div class="cs-core-label">Grit</div>
          </div>
          <div class="cs-core-item">
            <input class="cs-num cs-core-num" id="csFocus" type="number" inputmode="numeric" step="1" min="0">
            <div class="cs-core-label">Focus</div>
          </div>
        </div>
      </section>

      <!-- Armor section (two-column: left avatar(s), right stats/overlay) -->
      <section class="cs-armor-panel">
        <div class="cs-armor-inner">
          <div class="armor-left">
            <img class="armor-main-avatar" src="assets/armor-avatar.png" alt="Armor Avatar">
          </div>
          <div class="armor-right">
            <div class="armor-panel-title">ARMOR</div>

            <div class="armor-slot" data-slot="head">
              <button class="armor-btn" data-slot="head" type="button">HEAD</button>
              <div class="armor-inline-stats">
                <span class="stat-label">AV</span> <span class="stat-val av">-</span>
                <span class="stat-label">DR</span> <span class="stat-val red">-</span>
                <span class="stat-label">DUR</span> <span class="stat-val dur">-</span>
              </div>
            </div>

            <div class="armor-slot" data-slot="torso">
              <button class="armor-btn" data-slot="torso" type="button">TORSO</button>
              <div class="armor-inline-stats">
                <span class="stat-label">AV</span> <span class="stat-val av">-</span>
                <span class="stat-label">DR</span> <span class="stat-val red">-</span>
                <span class="stat-label">DUR</span> <span class="stat-val dur">-</span>
              </div>
            </div>

            <div class="armor-slot" data-slot="l_arm">
              <button class="armor-btn" data-slot="l_arm" type="button">LEFT ARM</button>
              <div class="armor-inline-stats">
                <span class="stat-label">AV</span> <span class="stat-val av">-</span>
                <span class="stat-label">DR</span> <span class="stat-val red">-</span>
                <span class="stat-label">DUR</span> <span class="stat-val dur">-</span>
              </div>
            </div>

            <div class="armor-slot" data-slot="r_arm">
              <button class="armor-btn" data-slot="r_arm" type="button">RIGHT ARM</button>
              <div class="armor-inline-stats">
                <span class="stat-label">AV</span> <span class="stat-val av">-</span>
                <span class="stat-label">DR</span> <span class="stat-val red">-</span>
                <span class="stat-label">DUR</span> <span class="stat-val dur">-</span>
              </div>
            </div>

            <div class="armor-slot" data-slot="l_leg">
              <button class="armor-btn" data-slot="l_leg" type="button">LEFT LEG</button>
              <div class="armor-inline-stats">
                <span class="stat-label">AV</span> <span class="stat-val av">-</span>
                <span class="stat-label">DR</span> <span class="stat-val red">-</span>
                <span class="stat-label">DUR</span> <span class="stat-val dur">-</span>
              </div>
            </div>

            <div class="armor-slot" data-slot="r_leg">
              <button class="armor-btn" data-slot="r_leg" type="button">RIGHT LEG</button>
              <div class="armor-inline-stats">
                <span class="stat-label">AV</span> <span class="stat-val av">-</span>
                <span class="stat-label">DR</span> <span class="stat-val red">-</span>
                <span class="stat-label">DUR</span> <span class="stat-val dur">-</span>
              </div>
            </div>

          </div>
        </div>
      </section>

      <section class="cs-buttons">
        <button class="cs-big-btn" type="button" disabled>Backpack</button>
        <button class="cs-big-btn" type="button" disabled>Armor</button>
        <button class="cs-big-btn" type="button" disabled>Gear</button>
        <button class="cs-big-btn" type="button" disabled>Echoes</button>
      </section>
    </main>
  </div>

  <!-- Armor overlay (standalone page) -->
  <div id="armorOverlay" class="armor-backdrop" aria-hidden="true">
    <div class="armor-modal">
      <div class="armor-modal-header">
        <div class="armor-title">Armor</div>
        <button class="armor-close" id="armorCloseBtnStatic">✕</button>
      </div>
      <div class="armor-body">
        <div class="armor-stage">
          <div class="armor-section" data-slot="head" data-grid="head">
            <div class="armor-slot-title">Head</div>
            <input class="armor-select" data-slot="head" placeholder="Armor piece" />
            <div class="armor-stats">
              <div>Armor Value: <span class="stat av">-</span></div>
              <div>Reduction: <span class="stat red">-</span></div>
              <div>Durability: <span class="stat dur">-</span></div>
              <div>Injury: <input type="checkbox" class="armor-injury" data-slot="head" /></div>
            </div>
          </div>
          <div class="armor-section" data-slot="torso" data-grid="torso">
            <div class="armor-slot-title">Torso</div>
            <input class="armor-select" data-slot="torso" placeholder="Armor piece" />
            <div class="armor-stats">
              <div>Armor Value: <span class="stat av">-</span></div>
              <div>Reduction: <span class="stat red">-</span></div>
              <div>Durability: <span class="stat dur">-</span></div>
              <div>Injury: <input type="checkbox" class="armor-injury" data-slot="torso" /></div>
            </div>
          </div>
          <div class="armor-avatar-wrap">
            <img src="/blightsend/assets/armor-avatar.png" alt="Avatar" class="armor-avatar">
          </div>
          <div class="armor-section" data-slot="r_arm" data-grid="r_arm">
            <div class="armor-slot-title">R. Arm</div>
            <input class="armor-select" data-slot="r_arm" placeholder="Armor piece" />
            <div class="armor-stats">
              <div>Armor Value: <span class="stat av">-</span></div>
              <div>Reduction: <span class="stat red">-</span></div>
              <div>Durability: <span class="stat dur">-</span></div>
              <div>Injury: <input type="checkbox" class="armor-injury" data-slot="r_arm" /></div>
            </div>
          </div>
          <div class="armor-section" data-slot="l_arm" data-grid="l_arm">
            <div class="armor-slot-title">L. Arm</div>
            <input class="armor-select" data-slot="l_arm" placeholder="Armor piece" />
            <div class="armor-stats">
              <div>Armor Value: <span class="stat av">-</span></div>
              <div>Reduction: <span class="stat red">-</span></div>
              <div>Durability: <span class="stat dur">-</span></div>
              <div>Injury: <input type="checkbox" class="armor-injury" data-slot="l_arm" /></div>
            </div>
          </div>
          <div class="armor-section" data-slot="r_leg" data-grid="r_leg">
            <div class="armor-slot-title">R. Leg</div>
            <input class="armor-select" data-slot="r_leg" placeholder="Armor piece" />
            <div class="armor-stats">
              <div>Armor Value: <span class="stat av">-</span></div>
              <div>Reduction: <span class="stat red">-</span></div>
              <div>Durability: <span class="stat dur">-</span></div>
              <div>Injury: <input type="checkbox" class="armor-injury" data-slot="r_leg" /></div>
            </div>
          </div>
          <div class="armor-section" data-slot="l_leg" data-grid="l_leg">
            <div class="armor-slot-title">L. Leg</div>
            <input class="armor-select" data-slot="l_leg" placeholder="Armor piece" />
            <div class="armor-stats">
              <div>Armor Value: <span class="stat av">-</span></div>
              <div>Reduction: <span class="stat red">-</span></div>
              <div>Durability: <span class="stat dur">-</span></div>
              <div>Injury: <input type="checkbox" class="armor-injury" data-slot="l_leg" /></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Menu overlay -->
  <div class="cs-overlay" id="csOverlay" aria-hidden="true">
    <div class="cs-overlay-panel">
      <div class="cs-overlay-title">Menu</div>

      <button class="cs-overlay-btn" type="button" data-action="home">Home</button>
      <button class="cs-overlay-btn" type="button" data-action="save">Save Character</button>
      <button class="cs-overlay-btn" type="button" data-action="load">Load Character</button>
      <button class="cs-overlay-btn" type="button" data-action="compendium">Open Compendium</button>

      <button class="cs-overlay-close" id="csOverlayClose" type="button">Close</button>
    </div>
  </div>

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("/blightsend/sw.js").catch(console.error);
      });
    }
  </script>
</body>
</html>
